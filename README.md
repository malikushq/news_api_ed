# news_api_ed

Проект на Django REST Framework с двумя приложениями — для администратора и для пользователей. Запускается в Docker-контейнерах с PostgreSQL и Redis.


# Описание

- admin_api — приложение для администраторов, которые могут создавать, редактировать, удалять и просматривать все новости.
- user_api — приложение для пользователей, которые могут просматривать только опубликованные новости.
- Новости имеют заголовок, описание, слаг (slug), автора, дату публикации, категорию, теги и статус публикации.
- Реализован поиск новостей по категориям, тегам и ключевым словам.
- Кэширование новостей в Redis с учётом параметров запроса.
- Проект содержит 3 Docker-контейнера: админское приложение, пользовательское приложение, база данных PostgreSQL и опционально Redis для кэширования.



# Установка и запуск

# Требования

- Docker
- Docker Compose

# Запуск

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/malikushq/news_api_ed.git
   cd news_api


2.Создайте файл .env с переменными окружения (пример в .env.example):
   DJANGO_SECRET_KEY=adminsecret
   DATABASE_NAME=admin_db
   DATABASE_USER=admin_rw
   DATABASE_PASSWORD=admin_pass
   DATABASE_HOST=db
   DATABASE_PORT=5432

3. Запустите контейнеры
   docker-compose up --build

4.Админка будет доступна по адресу:
http://localhost:8001/admin/
root | 1234

*Для создания пользователя администратора внутри контейнера admin-app выполните:
   docker exec -it news_api-admin-app-1 python manage.py createsuperuser

5.Пользовательское API и страницы:
http://localhost:8002/api/user/html/
и API-запросы по /api/user/news/

# API
Примеры запросов:
  -Получить список опубликованных новостей (с фильтрами и поиском):
  GET /api/user/news/?search=текст&category=<id>&tags=<id>

  -Получить новость по slug:
  GET /api/user/news/<slug>/

  -Получить кэшированный список новостей:
  GET /api/user/cached-news/



# Кэширование
Новости кэшируются с учётом параметров запроса (фильтры, поиск).

При изменении/удалении новостей, категорий и тегов кэш очищается автоматически с помощью сигналов.

# Примечания
Использовалась встроенная модель админки. В тз было написано, что можно

Используются отдельные пользователи базы данных для администратора (с правами чтения и записи) и пользователя (только чтение).

Redis используется для кэширования новостей.

